#include <stdio.h>
#include <stdbool.h>
#include <unistd.h>
#include "esp_wifi.h"


void setup(void) {
	esp_netif_init(); // ESP network interface init
    esp_netif_create_default_wifi_sta(); // Prepare data structure for WiFi client station

    wifi_init_config_t cfg = WIFI_INIT_CONFIG_DEFAULT(); // Default WiFi configuration structure
	esp_wifi_init(&cfg); // Init default values

	wifi_config_t wifi_config = {
        .sta = {
            .ssid = "iotagh",
            .password = "IoTiISW123",
            /* Authmode threshold resets to WPA2 as default if password matches WPA2 standards (password len => 8).
             * If you want to connect the device to deprecated WEP/WPA networks, Please set the threshold value
             * to WIFI_AUTH_WEP/WIFI_AUTH_WPA_PSK and set the password with length and format matching to
             * WIFI_AUTH_WEP/WIFI_AUTH_WPA_PSK standards.
             */
            .threshold.authmode = ESP_WIFI_SCAN_AUTH_MODE_THRESHOLD,
            .sae_pwe_h2e = ESP_WIFI_SAE_MODE,
            .sae_h2e_identifier = EXAMPLE_H2E_IDENTIFIER,
        },
    };
    ESP_ERROR_CHECK(esp_wifi_set_mode(WIFI_MODE_STA) );
    ESP_ERROR_CHECK(esp_wifi_set_config(WIFI_IF_STA, &wifi_config) );
    ESP_ERROR_CHECK(esp_wifi_start() );

}



void app_main(void)
{
	



    while (true) {
        printf("Hello from app_main!\n");
        sleep(1);
    }
}
